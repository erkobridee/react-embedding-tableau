import{j as e,a as n,F as u}from"./index-41ddd54d.js";import{c as d,r as c}from"./vendor-50e95b69.js";import{T as k,P as w,a as T}from"./PublicTableauInfoFooter-eeb8569d.js";import{B as P}from"./Button-ec0ef3ce.js";import"./index-89ad5974.js";import"./RoutesContent-3ccffb52.js";import"./TailwindTypography-d7bea36c.js";const l={ExportCrossTab:"export-cross-tab",ExportData:"export-data",ExportPDF:"export-pdf",ExportPowerPoint:"export-powerpoint",ExportWorkbook:"export-workbook",Share:"share"},S=d("form-select appearance-none block bg-no-repeat bg-clip-padding transition-colors","m-0 pl-3 pr-9 py-2","rounded-md text-sm font-medium","focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2","disabled:opacity-50 disabled:pointer-events-none","bg-transparent border border-slate-200 hover:bg-slate-100","dark:border-slate-700 dark:text-slate-100","dark:focus:ring-offset-slate-900 dark:focus:ring-slate-400","dark:hover:bg-slate-800 dark:hover:text-slate-100 dark:hover:bg-slate-700"),f=c.forwardRef(({className:o,...i},r)=>e("select",{ref:r,...i,className:d(S,o)}));f.displayName="Select";const D=({className:o="-ml-1 mr-3 h-5 w-5 text-white"})=>n("svg",{className:d("animate-spin",o),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x="https://public.tableau.com/views/RegionalSampleWorkbook/College",a={ACTIVE:"active",DISABLED:"disabled",EXPORTING:"exporting"},b=[{value:"export-image",label:"Image"},{value:l.ExportPDF,label:"PDF"},{value:l.ExportPowerPoint,label:"PowerPoint"},{value:l.ExportCrossTab,label:"Cross Tab"},{value:l.ExportWorkbook,label:"Workbook"},{value:l.ExportData,label:"Data"}],I=()=>{const o=c.useRef(null),[i,r]=c.useState(a.DISABLED),[p,h]=c.useState(b[0].value),E=t=>{r(t!==T.READY?a.DISABLED:a.ACTIVE)},g=t=>async()=>{const s=o.current;s&&(r(a.EXPORTING),t==="export-image"?await s.exportImageAsync():await s.displayDialogAsync(t),setTimeout(()=>{r(a.ACTIVE)},1500))},m=[`${a.DISABLED}`,`${a.EXPORTING}`].includes(i);return n("div",{className:"flex flex-col items-center w-full space-y-3",children:[n("div",{className:"flex space-x-3 items-center",children:[e(f,{disabled:m,value:p,onChange:t=>{h(t.currentTarget.value)},children:b.map(({value:t,label:s},v)=>e("option",{value:t,children:s},v))}),e(P,{disabled:m,onClick:g(p),children:i===a.EXPORTING?n(u,{children:[e(D,{}),e("span",{children:"Exporting..."})]}):"Export"})]}),e("div",{className:"flex space-x-3 items-center",children:p==="export-image"?e("span",{children:"."}):n(u,{children:[e("span",{children:"Note:"}),e("span",{children:"It's missing from the Tableau Embedded API a way to know then the user finish the export flow with the internal dialog."})]})}),e("div",{className:"flex justify-center h-[634px] min-w-[800px]",children:e(k,{ref:o,viewUrl:x,onStatusChange:E})}),e(w,{tableauUrl:x})]})},F=I;export{I as PublicExportOptionsExample,F as default};
