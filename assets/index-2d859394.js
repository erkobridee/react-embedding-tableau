import{a as o,j as a}from"./index-6451d9a2.js";import{r}from"./vendor-8535c4d4.js";import{F as L}from"./FilterUpdateType-b92c7746.js";import{T as P,P as j,a as F}from"./PublicTableauInfoFooter-3875afd4.js";import{B as U}from"./Button-2def9f07.js";import{I as _}from"./Input-4a7b4019.js";import"./index-417e176e.js";import"./RoutesContent-619da884.js";import"./TailwindTypography-157b063d.js";const S="https://public.tableau.com/views/AnimationDashboard_15616567350970/Sheet1",n={ACTIVE:"active",DISABLED:"disabled",PROCESSING:"processing"},s={min:500,max:5e3},p=1e3,V=(c=0,m=10,i=1)=>Array.from(Array.from(Array(Math.ceil((m-c+1)/i)).keys()),l=>c+l*i),u=V(1960,2011),Y=u[u.length-1],k="w-36",$=()=>{const c=r.useRef(),m=r.useRef(null),[i,l]=r.useState(n.DISABLED),f=r.useRef(),[T,b]=r.useState(p),[v,E]=r.useState(p),h=r.useRef(p),A=async()=>{const t=m.current;if(!t)return;if(c.current)return c.current;const e=await t.workbook.activateSheetAsync("Sheet 1");return c.current=e,e},I=async(t,e)=>{t&&(e=e??await A(),e&&await e.applyFilterAsync("Year",[`${t}`],L.Replace))},R=async t=>{const e=t!==F.READY?n.DISABLED:n.ACTIVE;l(e)},N=t=>{const{valueAsNumber:e}=t.currentTarget;b(e)},y=t=>{const{valueAsNumber:e}=t.target,d=e<s.min?s.min:e>s.max?s.max:e;b(d),E(d),h.current=d},x=()=>{const t=f.current;t&&(clearInterval(t),l(n.ACTIVE))},w=async()=>{l(n.PROCESSING);const t=await A();let e=u[0];f.current=setInterval(async()=>{await I(e,t),e===Y&&x(),e++},h.current)},C=(t=!1)=>()=>{if(t){x();return}w()},B=i!==n.ACTIVE,D=i===n.DISABLED,g=i===n.PROCESSING;return o("div",{className:"flex flex-col items-center w-full space-y-3",children:[o("div",{className:"flex gap-3 items-center",children:[a("span",{className:"font-bold",children:"ui status:"})," ",a("span",{children:i})]}),o("div",{className:"flex flex-col gap-3 items-center",children:[o("div",{className:"flex gap-3 items-center",children:[a("span",{className:"font-bold w-30 text-right",children:"Animation Timer"}),a(_,{type:"number",name:"width",value:T,onChange:N,onBlur:y,className:k,min:s.min,max:s.max,step:10,disabled:B}),a("span",{className:"text-sm",children:"Limits"}),a("span",{className:"text-sm italic",children:`min: ${s.min} and max: ${s.max}`})]}),o("div",{className:"flex gap-3 items-center",children:[a("span",{children:`Timer value in use: ${v} (ms)`}),a(U,{disabled:D,onClick:C(g),children:g?"Stop":"Start"})]})]}),a("div",{className:"flex justify-center h-[600px] min-w-[800px]",children:a(P,{ref:m,viewUrl:S,onStatusChange:R,filters:[{field:"Year",value:`${u[0]}`}]})}),a("div",{className:"flex flex-col gap-3 items-center",children:"Years range: 1960 until 2011"}),a(j,{tableauUrl:S,label:"Animation",githubProfileAccount:"andre347",githubProfileAccountUrl:"https://github.com/andre347",githubRepo:"tableau-react-jsapi",githubRepoUrl:"https://github.com/andre347/tableau-react-jsapi",url:"https://react-tableau-jsapi.vercel.app/animation",code:"https://github.com/andre347/tableau-react-jsapi/blob/master/src/components/Animation.js"})]})},Q=$;export{$ as PublicAnimationExample,Q as default};
