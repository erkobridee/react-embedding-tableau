import{j as e,F as n,a as o,E as r}from"./index-a0de55b7.js";import{r as l,c as z}from"./vendor-0568a7bc.js";import{u as N}from"./index-066cdce3.js";const m={CustomMarkContextMenuEvent:"custommarkcontextmenu",CustomViewLoaded:"customviewloaded",CustomViewRemoved:"customviewremoved",CustomViewSaved:"customviewsaved",CustomViewSetDefault:"customviewsetdefault",EditButtonClicked:"editbuttonclicked",EditInDesktopButtonClicked:"editindesktopbuttonclicked",FilterChanged:"filterchanged",FirstInteractive:"firstinteractive",FirstVizSizeKnown:"firstvizsizeknown",MarkSelectionChanged:"markselectionchanged",ParameterChanged:"parameterchanged",StoryPointSwitched:"storypointswitched",ToolbarStateChanged:"toolbarstatechanged",TabSwitched:"tabswitched",UrlAction:"urlaction",WorkbookPublished:"workbookpublished",WorkbookPublishedAs:"workbookpublishedas",WorkbookReadyToClose:"workbookreadytoclose"},F=({viewUrl:c,className:d,id:i="tableauViz",instanceIdToClone:s,token:h,toolbar:v,debug:p=!1,hideTabs:f=!1,filters:k=[]},w)=>{const a=l.useRef(null);l.useImperativeHandle(w,()=>a.current?a.current:{});const{debug:g,token:T,toolbar:y,hideTabs:C,baseClassName:E}=N(),b=async t=>{const u=a.current;setTimeout(()=>{u.style={opacity:1}},150)};l.useEffect(()=>{const t=a.current;if(t)return t==null||t.addEventListener(m.FirstInteractive,b),()=>{t==null||t.removeEventListener(m.FirstInteractive,b)}},[a.current]);const x=!!(window.matchMedia&&window.matchMedia("(any-pointer:coarse)").matches);return e(n,{children:e("tableau-viz",{ref:a,style:{opacity:0},src:c,class:z(E,d),id:i,instanceIdToClone:s,toolbar:v||y,token:h||T,debug:p||g?!0:void 0,"hide-tabs":f||C?!0:void 0,"touch-optimize":x?!0:void 0,children:k.map((t,u)=>e("viz-filter",{...t},u))})})},I=l.forwardRef(F);I.displayName="TableauEmbed";const R=({tableauUrl:c,label:d,url:i,code:s})=>o(n,{children:[" ",o("div",{className:"flex space-x-3",children:[e("div",{className:"font-bold",children:"Public Tableau:"}),e(r,{className:"hover:underline",href:c})]}),o("div",{className:"flex space-x-1",children:[e(r,{className:"hover:underline",href:"https://github.com/tableau",children:"[GitHub] tableau"}),e("span",{children:"/"}),e(r,{className:"hover:underline",href:"https://github.com/tableau/embedding-api-v3-samples",children:"embedding-api-v3-samples"}),i?o(n,{children:[e("span",{children:"/"}),e(r,{className:"hover:underline",href:i,children:d||i}),s?o(n,{children:[e("span",{children:"-"}),e(r,{className:"hover:underline",href:s,children:"code"})]}):null]}):null]})]});export{R as P,I as T};
