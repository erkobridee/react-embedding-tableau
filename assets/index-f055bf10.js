import{a as l,j as e,F as x}from"./index-9dc3cff1.js";import{c as w,r as c}from"./vendor-8535c4d4.js";import{T as g,P as v,a as T}from"./PublicTableauInfoFooter-00a84dfb.js";import{B as P}from"./Button-0eb9fd4e.js";import{S}from"./Select-e1a7a831.js";import"./index-fc7a5c5e.js";import"./RoutesContent-ac9d131a.js";import"./TailwindTypography-f183ff80.js";const r={ExportCrossTab:"export-cross-tab",ExportData:"export-data",ExportPDF:"export-pdf",ExportPowerPoint:"export-powerpoint",ExportWorkbook:"export-workbook",Share:"share"},D=({className:s="-ml-1 mr-3 h-5 w-5 text-white"})=>l("svg",{className:w("animate-spin",s),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u="https://public.tableau.com/views/RegionalSampleWorkbook/College",a={ACTIVE:"active",DISABLED:"disabled",EXPORTING:"exporting"},d=[{value:"export-image",label:"Image"},{value:r.ExportPDF,label:"PDF"},{value:r.ExportPowerPoint,label:"PowerPoint"},{value:r.ExportCrossTab,label:"Cross Tab"},{value:r.ExportWorkbook,label:"Workbook"},{value:r.ExportData,label:"Data"}],I=()=>{const s=c.useRef(null),[p,n]=c.useState(a.DISABLED),[i,b]=c.useState(d[0].value),E=t=>{n(t!==T.READY?a.DISABLED:a.ACTIVE)},h=t=>async()=>{const o=s.current;o&&(n(a.EXPORTING),t==="export-image"?await o.exportImageAsync():await o.displayDialogAsync(t),setTimeout(()=>{n(a.ACTIVE)},1500))},m=[`${a.DISABLED}`,`${a.EXPORTING}`].includes(p);return l("div",{className:"flex flex-col items-center w-full space-y-3",children:[l("div",{className:"flex space-x-3 items-center",children:[e(S,{disabled:m,value:i,onChange:t=>{b(t.currentTarget.value)},children:d.map(({value:t,label:o},f)=>e("option",{value:t,children:o},f))}),e(P,{disabled:m,onClick:h(i),children:p===a.EXPORTING?l(x,{children:[e(D,{}),e("span",{children:"Exporting..."})]}):"Export"})]}),e("div",{className:"flex space-x-3 items-center",children:i==="export-image"?e("span",{children:"."}):l(x,{children:[e("span",{children:"Note:"}),e("span",{children:"It's missing from the Tableau Embedded API a way to know then the user finish the export flow with the internal dialog."})]})}),e("div",{className:"flex justify-center h-[634px] min-w-[800px]",children:e(g,{ref:s,viewUrl:u,onStatusChange:E})}),e(v,{tableauUrl:u})]})},F=I;export{I as PublicExportOptionsExample,F as default};
