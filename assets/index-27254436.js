import{a as o,j as e,F as x}from"./index-9a60385f.js";import{c as g,r as p}from"./vendor-8535c4d4.js";import{T as v,P as w,a as T}from"./PublicTableauInfoFooter-c677c101.js";import{B as P}from"./Button-8992c0d7.js";import{S}from"./Select-3b03b6cd.js";import"./index-6108e416.js";import"./RoutesContent-06dd73e2.js";import"./TailwindTypography-dca7ce74.js";const s={ExportCrossTab:"export-cross-tab",ExportData:"export-data",ExportPDF:"export-pdf",ExportPowerPoint:"export-powerpoint",ExportWorkbook:"export-workbook",Share:"share"},D=({className:l="-ml-1 mr-3 h-5 w-5 text-white"})=>o("svg",{className:g("animate-spin",l),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d="https://public.tableau.com/views/RegionalSampleWorkbook/College",a={ACTIVE:"active",DISABLED:"disabled",EXPORTING:"exporting"},u=[{value:"export-image",label:"Image"},{value:s.ExportPDF,label:"PDF"},{value:s.ExportPowerPoint,label:"PowerPoint"},{value:s.ExportCrossTab,label:"Cross Tab"},{value:s.ExportWorkbook,label:"Workbook"},{value:s.ExportData,label:"Data"}],I=()=>{const l=p.useRef(null),[n,i]=p.useState(a.DISABLED),[c,h]=p.useState(u[0].value),b=t=>{i(t!==T.READY?a.DISABLED:a.ACTIVE)},E=t=>async()=>{const r=l.current;r&&(i(a.EXPORTING),t==="export-image"?await r.exportImageAsync():await r.displayDialogAsync(t),setTimeout(()=>{i(a.ACTIVE)},1500))},m=[`${a.DISABLED}`,`${a.EXPORTING}`].includes(n);return o("div",{className:"flex flex-col items-center w-full space-y-3",children:[e("div",{className:"flex space-x-3 items-center",children:o("span",{children:[e("strong",{children:"ui status: "})," ",n]})}),o("div",{className:"flex space-x-3 items-center",children:[e(S,{disabled:m,value:c,onChange:t=>{h(t.currentTarget.value)},children:u.map(({value:t,label:r},f)=>e("option",{value:t,children:r},f))}),e(P,{disabled:m,onClick:E(c),children:n===a.EXPORTING?o(x,{children:[e(D,{}),e("span",{children:"Exporting..."})]}):"Export"})]}),e("div",{className:"flex space-x-3 items-center",children:c==="export-image"?e("span",{className:"text-transparent",children:"."}):o(x,{children:[e("span",{children:"Note:"}),e("span",{children:"It's missing from the Tableau Embedded API a way to know then the user finish the export flow with the internal dialog."})]})}),e("div",{className:"flex justify-center h-[634px] min-w-[800px]",children:e(v,{ref:l,viewUrl:d,onStatusChange:b})}),e(w,{tableauUrl:d})]})},F=I;export{I as PublicExportOptionsExample,F as default};
